(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),i=(a(83),a(75)),m=a(3),o=a(32),u=a(33),l=a(37),d=a(34),h=a(36),b=a(145),E=a(144),v=a(140),f=a(143);a(85),n.Component;function p(e){var t=new Map;t.set(0,"#F0F8FF"),t.set(2,"#FAEBD7"),t.set(4,"#FAEBD7"),t.set(8,"#7FFFD4"),t.set(16,"#7FFFD4"),t.set(32,"Chartreuse"),t.set(64,"Chartreuse"),t.set(128,"SandyBrown"),t.set(256,"SandyBrown"),t.set(512,"red"),t.set(1024,"red"),t.set(2048,"red");var a={fontSize:60,bColor:"#F0F8FF"};return e.num>=100&&e.num<=999&&(a.fontSize=50),e.num>=1e3&&e.num<=9999&&(a.fontSize=40),a.bColor=t.get(e.num),r.a.createElement("div",{className:"SimpleBlock",style:{fontSize:a.fontSize,backgroundColor:a.bColor}},e.num)}var k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).onKeyDown=function(e){switch(e.keyCode){case 38:a.move(-1,0),setTimeout(a.addNum.bind(Object(m.a)(Object(m.a)(a))),100);break;case 40:a.move(1,0),setTimeout(a.addNum.bind(Object(m.a)(Object(m.a)(a))),100);break;case 37:a.move(0,-1),setTimeout(a.addNum.bind(Object(m.a)(Object(m.a)(a))),100);break;case 39:a.move(0,1),setTimeout(a.addNum.bind(Object(m.a)(Object(m.a)(a))),100)}},a.state={numTab:[[2,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],willAdd:!0,score:2},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getEmptyBlockList",value:function(e){for(var t=[],a=0;a<4;a++)for(var n=0;n<4;n++)0==e.numTab[a][n]&&t.push([a,n]);return t}},{key:"checkGameOver",value:function(){return 0==this.getEmptyBlockList(this.state).length}},{key:"addNum",value:function(){var e=this;this.setState(function(t,a){if(!t.willAdd)return t;var n=e.getEmptyBlockList(t),r=Math.round(Math.random()*(n.length-1)),c=Object(i.a)(n[r],2),s=c[0],m=c[1],o=t.numTab.map(function(e){return e.slice()});return o[s][m]=2,{numTab:o,score:t.score+2}})}},{key:"move",value:function(e,t){this.setState(function(a,n){var r=a.numTab.map(function(e){return e.slice()}),c=!1,s=!1,i=0,m=0,o=4,u=4,l=1,d=1;0==e?1==t&&(m=3,u=-1,d=-1):1==e&&(i=3,o=-1,l=-1);do{c=!1;for(var h=i;h!=o;h+=l)for(var b=m;b!=u;b+=d)for(var E=h,v=b;E+e>=0&&E+e<4&&v+t>=0&&v+t<4;)0!=r[E][v]&&0==r[E+e][v+t]&&(r[E+e][v+t]=r[E][v],r[E][v]=0,c=!0,s=!0),E+=e,v+=t;for(var f=i;f!=o;f+=l)for(var p=m;p!=u;p+=d)for(var k=f,y=p;k+e>=0&&k+e<4&&y+t>=0&&y+t<4;)0!=r[k+e][y+t]&&r[k+e][y+t]==r[k][y]&&(r[k+e][y+t]+=r[k][y],r[k][y]=0,c=!0,s=!0),k+=e,y+=t}while(c);return{numTab:r,willAdd:s,score:a.score}})}},{key:"handleClick",value:function(e,t){var a=this;return function(n){a.move(e,t),setTimeout(a.addNum.bind(a),100)}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"reset",value:function(){this.setState({numTab:[[2,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],willAdd:!0,score:2})}},{key:"render",value:function(){return r.a.createElement("div",{className:"NumberTable"},r.a.createElement(b.a,{justify:"center"},r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[0][0]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[0][1]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[0][2]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[0][3]}))),r.a.createElement(b.a,{justify:"center"},r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[1][0]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[1][1]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[1][2]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[1][3]}))),r.a.createElement(b.a,{justify:"center"},r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[2][0]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[2][1]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[2][2]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[2][3]}))),r.a.createElement(b.a,{justify:"center"},r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[3][0]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[3][1]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[3][2]})),r.a.createElement(E.a,{span:6},r.a.createElement(p,{num:this.state.numTab[3][3]}))),r.a.createElement("h1",null,"Score = ",this.state.score),r.a.createElement("div",null,r.a.createElement(v.a,{type:"arrow-up",onClick:this.handleClick(-1,0).bind(this)})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"arrow-left",onClick:this.handleClick(0,-1).bind(this)}),r.a.createElement("span",null,"-----"),r.a.createElement(v.a,{type:"arrow-right",onClick:this.handleClick(0,1).bind(this)})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"arrow-down",onClick:this.handleClick(1,0).bind(this)})),r.a.createElement("div",null,"________"),r.a.createElement(f.a,{onClick:this.reset.bind(this)},"Reset"))}}]),t}(n.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},78:function(e,t,a){e.exports=a(141)},83:function(e,t,a){},85:function(e,t,a){}},[[78,2,1]]]);
//# sourceMappingURL=main.509dd0a0.chunk.js.map