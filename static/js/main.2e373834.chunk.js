(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports=a(180)},112:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(6),l=a.n(c),m=(a(112),a(39)),o=a(40),i=a(46),s=a(41),u=a(45),d=a(185),E=a(181),h=a(188),b=a(190),p=a(186),f=a(184),v=a(182),y=a(102),k=a(16),w=a(187),T=a(189),j=a(43),g=a(183);a(76),n.Component;function C(e){var t=new Map;t.set(0,"#F0F8FF"),t.set(2,"#FAEBD7"),t.set(4,"#FAEBD7"),t.set(8,"#7FFFD4"),t.set(16,"#7FFFD4"),t.set(32,"Chartreuse"),t.set(64,"Chartreuse"),t.set(128,"SandyBrown"),t.set(256,"SandyBrown"),t.set(512,"red"),t.set(1024,"red"),t.set(2048,"red");var a={fontSize:60,bColor:"#F0F8FF"};return e.num>=100&&e.num<=999&&(a.fontSize=50),e.num>=1e3&&e.num<=9999&&(a.fontSize=40),a.bColor=t.get(e.num),r.a.createElement("div",{className:"SimpleBlock",style:{fontSize:a.fontSize,backgroundColor:a.bColor}},0!=e.num?e.num:"")}var O=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).onKeyDown=function(e){switch(e.keyCode){case 38:a.move(-1,0),setTimeout(a.addNum.bind(Object(k.a)(Object(k.a)(a))),100);break;case 40:a.move(1,0),setTimeout(a.addNum.bind(Object(k.a)(Object(k.a)(a))),100);break;case 37:a.move(0,-1),setTimeout(a.addNum.bind(Object(k.a)(Object(k.a)(a))),100);break;case 39:a.move(0,1),setTimeout(a.addNum.bind(Object(k.a)(Object(k.a)(a))),100)}},a.state={numTab:[[2,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],willAdd:!0,score:2},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getEmptyBlockList",value:function(e){for(var t=[],a=0;a<4;a++)for(var n=0;n<4;n++)0==e.numTab[a][n]&&t.push([a,n]);return t}},{key:"checkGameOver",value:function(){return 0==this.getEmptyBlockList(this.state).length}},{key:"addNum",value:function(){var e=this;this.setState(function(t,a){if(!t.willAdd)return t;var n=e.getEmptyBlockList(t),r=Math.round(Math.random()*(n.length-1)),c=Object(y.a)(n[r],2),l=c[0],m=c[1],o=t.numTab.map(function(e){return e.slice()});return o[l][m]=Math.random()>.8?4:2,{numTab:o,score:t.score+o[l][m]}})}},{key:"move",value:function(e,t){this.setState(function(a,n){var r=a.numTab.map(function(e){return e.slice()}),c=!1,l=!1,m=0,o=0,i=4,s=4,u=1,d=1;0==e?1==t&&(o=3,s=-1,d=-1):1==e&&(m=3,i=-1,u=-1);do{c=!1;for(var E=m;E!=i;E+=u)for(var h=o;h!=s;h+=d)for(var b=E,p=h;b+e>=0&&b+e<4&&p+t>=0&&p+t<4;)0!=r[b][p]&&0==r[b+e][p+t]&&(r[b+e][p+t]=r[b][p],r[b][p]=0,c=!0,l=!0),b+=e,p+=t;for(var f=m;f!=i;f+=u)for(var v=o;v!=s;v+=d)for(var y=f,k=v;y+e>=0&&y+e<4&&k+t>=0&&k+t<4;)0!=r[y+e][k+t]&&r[y+e][k+t]==r[y][k]&&(r[y+e][k+t]+=r[y][k],r[y][k]=0,c=!0,l=!0),y+=e,k+=t}while(c);return{numTab:r,willAdd:l,score:a.score}})}},{key:"handleClick",value:function(e,t){var a=this;return function(n){a.move(e,t),setTimeout(a.addNum.bind(a),100)}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"reset",value:function(){this.setState({numTab:[[2,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],willAdd:!0,score:2})}},{key:"render",value:function(){return r.a.createElement("div",{className:"NumberTable"},r.a.createElement(w.a,{justify:"center"},r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[0][0]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[0][1]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[0][2]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[0][3]}))),r.a.createElement(w.a,{justify:"center"},r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[1][0]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[1][1]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[1][2]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[1][3]}))),r.a.createElement(w.a,{justify:"center"},r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[2][0]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[2][1]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[2][2]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[2][3]}))),r.a.createElement(w.a,{justify:"center"},r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[3][0]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[3][1]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[3][2]})),r.a.createElement(T.a,{span:6},r.a.createElement(C,{num:this.state.numTab[3][3]}))),r.a.createElement("h1",null,"Score = ",this.state.score),r.a.createElement("div",null,r.a.createElement(j.a,{type:"arrow-up",onClick:this.handleClick(-1,0).bind(this)})),r.a.createElement("div",null,r.a.createElement(j.a,{type:"arrow-left",onClick:this.handleClick(0,-1).bind(this)}),r.a.createElement("span",null,"-----"),r.a.createElement(j.a,{type:"arrow-right",onClick:this.handleClick(0,1).bind(this)})),r.a.createElement("div",null,r.a.createElement(j.a,{type:"arrow-down",onClick:this.handleClick(1,0).bind(this)})),r.a.createElement("div",null,"________"),r.a.createElement(g.a,{onClick:this.reset.bind(this)},"Reset"))}}]),t}(n.Component),F=f.a.Header,N=f.a.Footer,S=(f.a.Sider,f.a.Content),A=function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("h2",null,"\u4e3b\u9875"),r.a.createElement("p",null,"1781\u7684\u5c0f\u63d0\u7434\u7684react\u6d4b\u8bd5\u9875\u9762"))},B=function(){return r.a.createElement("div",{className:"About"},r.a.createElement("h2",null,"\u5173\u4e8e"),r.a.createElement("p",null,"1781\u7684\u5c0f\u63d0\u7434\u7684react\u6d4b\u8bd5\u9875\u9762"))},x=function(){return r.a.createElement("div",{className:"Game"},r.a.createElement("h1",null,"2048 Game"),r.a.createElement(O,null))},D=function(){return r.a.createElement("div",{className:"NoMatch"},r.a.createElement("h2",null,"\u6ca1\u6709\u5339\u914d\u7684\u9875\u9762"))},_=function(){return r.a.createElement(d.a,null,r.a.createElement(f.a,null,r.a.createElement(F,{style:{position:"fixed",zIndex:1,width:"100%"}},r.a.createElement(v.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[],style:{lineHeight:"64px"}},r.a.createElement(v.a.Item,{key:"1"},r.a.createElement(E.a,{to:"/"},"Home")),r.a.createElement(v.a.Item,{key:"2"},r.a.createElement(E.a,{to:"/about/"},"About")),r.a.createElement(v.a.Item,{key:"3"},r.a.createElement(E.a,{to:"/game/"},"Game")))),r.a.createElement(S,{style:{padding:"0 50px",marginTop:64}},r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:670}},r.a.createElement(h.a,null,r.a.createElement(b.a,{path:"/",exact:!0,component:A}),r.a.createElement(b.a,{path:"/about/",exact:!0,component:B}),r.a.createElement(b.a,{path:"/game/",exact:!0,component:x}),r.a.createElement(p.a,{from:"/*",to:"/"}),r.a.createElement(b.a,{component:D})))),r.a.createElement(N,{style:{textAlign:"center",bottom:0,left:0,right:0}},"Footer")))},z=function(e){function t(){return Object(m.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},76:function(e,t,a){}},[[107,2,1]]]);
//# sourceMappingURL=main.2e373834.chunk.js.map